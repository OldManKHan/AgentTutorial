# OpenCode Agent å­¦ä¹ è·¯çº¿å›¾

> é¢å‘ Agent å°ç™½ï¼Œä» OpenCode é¡¹ç›®å…¥æ‰‹ï¼Œç³»ç»Ÿå­¦ä¹  AI Agent çš„å·¥ä½œåŸç†å’Œå¼€å‘æ–¹æ³•

## å­¦ä¹ å‰æ

- åŸºç¡€ TypeScript/JavaScript çŸ¥è¯†
- äº†è§£ async/await å¼‚æ­¥ç¼–ç¨‹
- æœ‰åŸºæœ¬çš„ LLM API è°ƒç”¨ç»éªŒï¼ˆå¦‚ OpenAI APIï¼‰

---

## é˜¶æ®µä¸€ï¼šç†è§£ Agent æ ¸å¿ƒæ¦‚å¿µ (1-2å¤©)

### 1.1 ä»€ä¹ˆæ˜¯ Agentï¼Ÿ

Agent = LLM + Tools + Loop

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Agent æ ¸å¿ƒå¾ªç¯                  â”‚
â”‚                                                 â”‚
â”‚   ç”¨æˆ·è¾“å…¥ â”€â”€â–¶ LLM æ€è€ƒ â”€â”€â–¶ å†³å®šè¡ŒåŠ¨            â”‚
â”‚                              â”‚                  â”‚
â”‚                              â–¼                  â”‚
â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                         â”‚ è°ƒç”¨å·¥å…· â”‚â—€â”€â”€â”€â”€â”       â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚       â”‚
â”‚                              â”‚          â”‚       â”‚
â”‚                              â–¼          â”‚       â”‚
â”‚                         è§‚å¯Ÿç»“æœ â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                              â”‚                  â”‚
â”‚                              â–¼                  â”‚
â”‚                         ä»»åŠ¡å®Œæˆ â”€â”€â–¶ è¾“å‡º       â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 å…ˆè¯»è¿™äº›æ–‡ä»¶å»ºç«‹æ•´ä½“è®¤çŸ¥

```
packages/opencode/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ agent/agent.ts      â† ç¬¬1ä¸ªï¼šAgent å®šä¹‰ï¼Œç†è§£ Agent æ˜¯ä»€ä¹ˆ
â”‚   â”œâ”€â”€ session/index.ts    â† ç¬¬2ä¸ªï¼šä¼šè¯ç®¡ç†ï¼Œç†è§£å¯¹è¯å¦‚ä½•ç»„ç»‡
â”‚   â”œâ”€â”€ session/llm.ts      â† ç¬¬3ä¸ªï¼šLLM è°ƒç”¨ï¼Œç†è§£å¦‚ä½•ä¸æ¨¡å‹äº¤äº’
â”‚   â””â”€â”€ tool/tool.ts        â† ç¬¬4ä¸ªï¼šå·¥å…·å®šä¹‰ï¼Œç†è§£å·¥å…·æ˜¯ä»€ä¹ˆ
```

### 1.3 å…³é”®æ¦‚å¿µå¯¹ç…§è¡¨

| æ¦‚å¿µ | OpenCode ä¸­çš„å®ç° | æ–‡ä»¶ä½ç½® |
|------|------------------|----------|
| Agent | `Agent.Info` ç±»å‹å®šä¹‰ | `src/agent/agent.ts` |
| Session | `Session.Info` ä¼šè¯çŠ¶æ€ | `src/session/index.ts` |
| Message | `MessageV2` æ¶ˆæ¯æ ¼å¼ | `src/session/message-v2.ts` |
| Tool | `Tool.Info` å·¥å…·æ¥å£ | `src/tool/tool.ts` |
| Provider | `Provider.Info` æ¨¡å‹æä¾›å•† | `src/provider/provider.ts` |

---

## é˜¶æ®µäºŒï¼šæ·±å…¥ Agent å®šä¹‰ (2-3å¤©)

### 2.1 å­¦ä¹  Agent ç»“æ„

æ‰“å¼€ `src/agent/agent.ts`ï¼Œé‡ç‚¹ç†è§£ï¼š

```typescript
// Agent çš„æ ¸å¿ƒå±æ€§
export const Info = z.object({
  name: z.string(),                    // Agent åç§°
  description: z.string().optional(),  // æè¿°ï¼ˆç»™ LLM çœ‹çš„ï¼‰
  mode: z.enum(["subagent", "primary", "all"]),  // è¿è¡Œæ¨¡å¼
  permission: PermissionNext.Ruleset,  // æƒé™è§„åˆ™
  model: z.object({...}).optional(),   // æŒ‡å®šæ¨¡å‹
  prompt: z.string().optional(),       // ç³»ç»Ÿæç¤ºè¯
  temperature: z.number().optional(),  // æ¸©åº¦å‚æ•°
  // ...
})
```

### 2.2 ç ”ç©¶å†…ç½® Agent çš„å·®å¼‚

| Agent | ç”¨é€” | æƒé™ç‰¹ç‚¹ |
|-------|------|---------|
| `build` | é»˜è®¤å¼€å‘ | å…¨æƒé™ï¼Œå¯è¯»å†™æ–‡ä»¶ã€æ‰§è¡Œå‘½ä»¤ |
| `plan` | è§„åˆ’åˆ†æ | åªè¯»ï¼Œåªèƒ½å†™ `.opencode/plan/*.md` |
| `general` | å­ä»»åŠ¡ | ç¦ç”¨ todo å·¥å…·ï¼Œç”¨äºå¹¶è¡Œä»»åŠ¡ |
| `explore` | ä»£ç æ¢ç´¢ | åªå…è®¸æœç´¢ç±»å·¥å…·ï¼Œç¦æ­¢ç¼–è¾‘ |

### 2.3 åŠ¨æ‰‹å®éªŒ

1. è¿è¡Œ `bun dev` å¯åŠ¨ OpenCode
2. ç”¨ `Tab` é”®åˆ‡æ¢ build/plan Agentï¼Œè§‚å¯Ÿè¡Œä¸ºå·®å¼‚
3. å°è¯•è®© plan Agent ç¼–è¾‘æ–‡ä»¶ï¼Œè§‚å¯Ÿæƒé™æ‹’ç»

---

## é˜¶æ®µä¸‰ï¼šç†è§£å·¥å…·ç³»ç»Ÿ (3-4å¤©)

### 3.1 å·¥å…·æ˜¯ Agent çš„"æ‰‹è„š"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å·¥å…·ç³»ç»Ÿæ¶æ„                   â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚ Tool.define â”‚ â† å®šä¹‰å·¥å…·                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚         â”‚                                       â”‚
â”‚         â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ ToolRegistryâ”‚â”€â”€â”€â–¶â”‚  LLM å¯è§   â”‚            â”‚
â”‚  â”‚   æ³¨å†Œå·¥å…·   â”‚    â”‚  å·¥å…·åˆ—è¡¨   â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚         â”‚                                       â”‚
â”‚         â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ Permission  â”‚â”€â”€â”€â–¶â”‚  æ‰§è¡Œ/æ‹’ç»  â”‚            â”‚
â”‚  â”‚   æƒé™æ£€æŸ¥   â”‚    â”‚             â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å­¦ä¹ ä¸€ä¸ªç®€å•å·¥å…·

ä»æœ€ç®€å•çš„ `read.ts` å¼€å§‹ï¼š

```typescript
// src/tool/read.ts ç®€åŒ–ç‰ˆ
export const ReadTool = Tool.define("read", {
  description: "è¯»å–æ–‡ä»¶å†…å®¹",
  parameters: z.object({
    filePath: z.string().describe("è¦è¯»å–çš„æ–‡ä»¶è·¯å¾„"),
  }),
  async execute(args, ctx) {
    const content = await fs.readFile(args.filePath, "utf-8")
    return {
      title: `Read ${args.filePath}`,
      output: content,
      metadata: { lines: content.split("\n").length }
    }
  }
})
```

### 3.3 å·¥å…·å­¦ä¹ é¡ºåºï¼ˆç”±ç®€åˆ°éš¾ï¼‰

```
1. src/tool/read.ts      â† æœ€ç®€å•ï¼Œåªè¯»æ–‡ä»¶
2. src/tool/glob.ts      â† æ–‡ä»¶æœç´¢
3. src/tool/grep.ts      â† å†…å®¹æœç´¢
4. src/tool/write.ts     â† å†™æ–‡ä»¶ï¼Œæ¶‰åŠæƒé™
5. src/tool/edit.ts      â† ç¼–è¾‘æ–‡ä»¶ï¼Œæ¶‰åŠ diff
6. src/tool/bash.ts      â† æ‰§è¡Œå‘½ä»¤ï¼Œæœ€å¤æ‚
7. src/tool/task.ts      â† å­ Agent è°ƒç”¨
```

### 3.4 åŠ¨æ‰‹ï¼šå†™ä¸€ä¸ªè‡ªå®šä¹‰å·¥å…·

åœ¨ `~/.config/opencode/tool/` åˆ›å»º `hello.ts`ï¼š

```typescript
export default {
  description: "Say hello to someone",
  args: {
    name: z.string().describe("Name to greet"),
  },
  async execute(args) {
    return `Hello, ${args.name}! ğŸ‘‹`
  }
}
```

---

## é˜¶æ®µå››ï¼šç†è§£ LLM äº¤äº’ (2-3å¤©)

### 4.1 æ¶ˆæ¯æµè½¬è¿‡ç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ¶ˆæ¯å¤„ç†æµç¨‹                            â”‚
â”‚                                                             â”‚
â”‚  ç”¨æˆ·æ¶ˆæ¯                                                    â”‚
â”‚     â”‚                                                       â”‚
â”‚     â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚ SessionPrompt   â”‚ â† æ„å»ºå®Œæ•´ prompt                      â”‚
â”‚  â”‚ - system prompt â”‚                                        â”‚
â”‚  â”‚ - å†å²æ¶ˆæ¯      â”‚                                        â”‚
â”‚  â”‚ - å·¥å…·å®šä¹‰      â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚     â”‚                                                       â”‚
â”‚     â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚    LLM.stream   â”‚â”€â”€â”€â–¶â”‚   streamText    â”‚ (Vercel AI SDK)â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚     â”‚                                                       â”‚
â”‚     â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚  å¤„ç†å“åº”æµ      â”‚                                        â”‚
â”‚  â”‚  - text         â”‚ â† æ–‡æœ¬è¾“å‡º                             â”‚
â”‚  â”‚  - tool_call    â”‚ â† å·¥å…·è°ƒç”¨                             â”‚
â”‚  â”‚  - reasoning    â”‚ â† æ€è€ƒè¿‡ç¨‹                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 é‡ç‚¹æ–‡ä»¶

```
src/session/
â”œâ”€â”€ llm.ts          â† LLM è°ƒç”¨å…¥å£ï¼ŒstreamText å°è£…
â”œâ”€â”€ system.ts       â† System Prompt æ„å»º
â”œâ”€â”€ prompt.ts       â† ç”¨æˆ· Prompt å¤„ç†
â”œâ”€â”€ processor.ts    â† å“åº”æµå¤„ç†
â””â”€â”€ compaction.ts   â† ä¸Šä¸‹æ–‡å‹ç¼©ï¼ˆé•¿å¯¹è¯å¤„ç†ï¼‰
```

### 4.3 ç†è§£ System Prompt

æ‰“å¼€ `src/session/system.ts`ï¼Œå­¦ä¹ å¦‚ä½•æ„å»ºæœ‰æ•ˆçš„ç³»ç»Ÿæç¤ºè¯ï¼š

- Headerï¼šåŸºç¡€èº«ä»½è®¾å®š
- Provider-specificï¼šé’ˆå¯¹ä¸åŒæ¨¡å‹çš„ä¼˜åŒ–
- Agent promptï¼šAgent ç‰¹å®šæŒ‡ä»¤
- Tool descriptionsï¼šå·¥å…·ä½¿ç”¨è¯´æ˜

---

## é˜¶æ®µäº”ï¼šç†è§£ Agent Loop (3-4å¤©)

### 5.1 æ ¸å¿ƒå¾ªç¯åœ¨å“ªé‡Œï¼Ÿ

å…³é”®æ–‡ä»¶ï¼š`src/session/processor.ts`

```typescript
// ç®€åŒ–çš„ Agent Loop ä¼ªä»£ç 
async function agentLoop(session, userMessage) {
  while (true) {
    // 1. è°ƒç”¨ LLM
    const response = await LLM.stream({
      messages: session.messages,
      tools: availableTools,
    })
    
    // 2. å¤„ç†å“åº”
    for await (const chunk of response) {
      if (chunk.type === "text") {
        // è¾“å‡ºæ–‡æœ¬
        emit(chunk.text)
      }
      
      if (chunk.type === "tool_call") {
        // 3. æ‰§è¡Œå·¥å…·
        const result = await executeTool(chunk.tool, chunk.args)
        
        // 4. å°†ç»“æœåŠ å…¥æ¶ˆæ¯å†å²
        session.messages.push({
          role: "tool",
          content: result
        })
        
        // ç»§ç»­å¾ªç¯ï¼Œè®© LLM çœ‹åˆ°å·¥å…·ç»“æœ
        continue
      }
    }
    
    // 5. æ²¡æœ‰å·¥å…·è°ƒç”¨ï¼Œå¾ªç¯ç»“æŸ
    break
  }
}
```

### 5.2 è·Ÿè¸ªä¸€æ¬¡å®Œæ•´è¯·æ±‚

1. åœ¨ `src/session/processor.ts` åŠ æ—¥å¿—
2. å‘é€ä¸€ä¸ªéœ€è¦å·¥å…·çš„è¯·æ±‚ï¼Œå¦‚ "è¯»å– package.json"
3. è§‚å¯Ÿæ—¥å¿—ï¼Œç†è§£ï¼š
   - LLM å¦‚ä½•å†³å®šè°ƒç”¨å·¥å…·
   - å·¥å…·ç»“æœå¦‚ä½•è¿”å›ç»™ LLM
   - LLM å¦‚ä½•åŸºäºç»“æœç»§ç»­

---

## é˜¶æ®µå…­ï¼šé«˜çº§ä¸»é¢˜ (æŒ‰å…´è¶£é€‰å­¦)

### 6.1 å­ Agent (Task Tool)

```
src/tool/task.ts  â† å¦‚ä½•å¯åŠ¨å­ Agent
```

å­¦ä¹ è¦ç‚¹ï¼š
- å­ Agent æœ‰ç‹¬ç«‹çš„ Session
- çˆ¶å­ Agent å¦‚ä½•é€šä¿¡
- å¹¶è¡Œæ‰§è¡Œå¤šä¸ªå­ä»»åŠ¡

### 6.2 MCP åè®®æ‰©å±•

```
src/mcp/index.ts  â† MCP å®¢æˆ·ç«¯å®ç°
```

å­¦ä¹ è¦ç‚¹ï¼š
- å¦‚ä½•è¿æ¥å¤–éƒ¨ MCP Server
- åŠ¨æ€åŠ è½½å¤–éƒ¨å·¥å…·
- OAuth è®¤è¯æµç¨‹

### 6.3 ä¸Šä¸‹æ–‡ç®¡ç†

```
src/session/compaction.ts  â† ä¸Šä¸‹æ–‡å‹ç¼©
src/session/summary.ts     â† ä¼šè¯æ‘˜è¦
```

å­¦ä¹ è¦ç‚¹ï¼š
- é•¿å¯¹è¯å¦‚ä½•å¤„ç†
- Token é™åˆ¶å¦‚ä½•åº”å¯¹
- é‡è¦ä¿¡æ¯å¦‚ä½•ä¿ç•™

### 6.4 æƒé™ç³»ç»Ÿ

```
src/permission/next.ts  â† æƒé™è§„åˆ™å¼•æ“
```

å­¦ä¹ è¦ç‚¹ï¼š
- å¦‚ä½•å®šä¹‰æƒé™è§„åˆ™
- å·¥å…·çº§åˆ« vs æ–‡ä»¶çº§åˆ«æƒé™
- åŠ¨æ€æƒé™æ£€æŸ¥

---

## å®è·µé¡¹ç›®å»ºè®®

### é¡¹ç›®1ï¼šè‡ªå®šä¹‰ Agent (å…¥é—¨)

åˆ›å»ºä¸€ä¸ªä¸“é—¨ç”¨äºä»£ç å®¡æŸ¥çš„ Agentï¼š
- åªè¯»æƒé™
- è‡ªå®šä¹‰ prompt å…³æ³¨ä»£ç è´¨é‡
- ç¦ç”¨ç¼–è¾‘å·¥å…·

### é¡¹ç›®2ï¼šè‡ªå®šä¹‰å·¥å…· (è¿›é˜¶)

å®ç°ä¸€ä¸ªæ•°æ®åº“æŸ¥è¯¢å·¥å…·ï¼š
- è¿æ¥æ•°æ®åº“
- æ‰§è¡Œ SQL
- æ ¼å¼åŒ–è¾“å‡º

### é¡¹ç›®3ï¼šMCP Server (é«˜çº§)

å¼€å‘ä¸€ä¸ª MCP Server æä¾›ï¼š
- è‡ªå®šä¹‰ API è°ƒç”¨
- å¤–éƒ¨æœåŠ¡é›†æˆ
- å¤æ‚ä¸šåŠ¡é€»è¾‘

---

## å­¦ä¹ èµ„æº

### é¡¹ç›®å†…æ–‡æ¡£
- `CONTRIBUTING.md` - è´¡çŒ®æŒ‡å—
- `STYLE_GUIDE.md` - ä»£ç é£æ ¼
- `packages/opencode/README.md` - æ ¸å¿ƒåŒ…è¯´æ˜

### å¤–éƒ¨èµ„æº
- [Vercel AI SDK æ–‡æ¡£](https://sdk.vercel.ai/docs) - ç†è§£åº•å±‚ LLM è°ƒç”¨
- [MCP åè®®è§„èŒƒ](https://modelcontextprotocol.io/) - ç†è§£å·¥å…·æ‰©å±•
- [OpenCode å®˜æ–¹æ–‡æ¡£](https://opencode.ai/docs) - ä½¿ç”¨æŒ‡å—

### è°ƒè¯•æŠ€å·§
```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼
cd packages/opencode && bun dev

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
OPENCODE_LOG_LEVEL=debug bun dev

# è¿è¡Œæµ‹è¯•
bun test
```

---

## å­¦ä¹ æ£€æŸ¥æ¸…å•

### é˜¶æ®µä¸€ âœ“
- [ ] èƒ½è§£é‡Š Agent = LLM + Tools + Loop
- [ ] çŸ¥é“ OpenCode çš„æ ¸å¿ƒæ–‡ä»¶ç»“æ„

### é˜¶æ®µäºŒ âœ“
- [ ] ç†è§£ Agent.Info çš„å„ä¸ªå­—æ®µå«ä¹‰
- [ ] èƒ½åŒºåˆ† build/plan/explore Agent çš„å·®å¼‚

### é˜¶æ®µä¸‰ âœ“
- [ ] èƒ½è¯»æ‡‚ä¸€ä¸ªå·¥å…·çš„å®ç°
- [ ] æˆåŠŸåˆ›å»ºäº†è‡ªå®šä¹‰å·¥å…·

### é˜¶æ®µå›› âœ“
- [ ] ç†è§£ System Prompt çš„æ„æˆ
- [ ] çŸ¥é“æ¶ˆæ¯å¦‚ä½•æµè½¬åˆ° LLM

### é˜¶æ®µäº” âœ“
- [ ] èƒ½æè¿° Agent Loop çš„å®Œæ•´æµç¨‹
- [ ] è·Ÿè¸ªè¿‡ä¸€æ¬¡å®Œæ•´çš„å·¥å…·è°ƒç”¨

### é˜¶æ®µå…­ âœ“
- [ ] é€‰å­¦äº†è‡³å°‘ä¸€ä¸ªé«˜çº§ä¸»é¢˜
- [ ] å®Œæˆäº†è‡³å°‘ä¸€ä¸ªå®è·µé¡¹ç›®

---

ç¥å­¦ä¹ é¡ºåˆ©ï¼ğŸš€
